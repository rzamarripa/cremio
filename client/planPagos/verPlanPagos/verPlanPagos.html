<div class="row">
	<div class="col-sm-12">
		<div class="well well-sm">
			<div class="row">
				<div class="col-sm-12 col-md-12 col-lg-12">
					<div class="well well-light well-sm no-margin no-padding">
						<div class="row">
							<div class="col-sm-12">
								<div id="myCarousel" class="carousel profile-carousel">
									<div class="air air-bottom-right padding-10">
										<a ng-if="currentUser.roles[0] == 'Gerente'" ui-sref="root.generadorPlan({objeto_id : vpp.cliente._id})" class="btn txt-color-white bg-color-teal btn-sm">
											<i class="fa fa-cogs"></i> Generador
										</a>&nbsp;
										<a ng-if="currentUser.roles[0] == 'Gerente' || currentUser.roles[0] == 'Ventanilla'" ui-sref="root.editarCliente({objeto_id : vpp.cliente._id})" class="btn txt-color-white bg-color-pinkDark btn-sm">
	 										<i class="fa fa-pencil"></i> Modificar
	 									</a> 
									</div>
									<div class="air air-top-left padding-10">
										<h4 class="txt-color-white font-md"><i class="fa fa-calendar"></i>&nbsp;&nbsp;{{vpp.fechaActual | date:'dd-MM-yyyy'}}</h4>
									</div>
									<ol class="carousel-indicators">
									</ol>
									<div class="carousel-inner">
										<div class="item active">
											<img src="img/demo/s1.jpg" alt="" style="width:100%">
										</div>
									</div>
								</div>
							</div>
							<div class="col-sm-12">
								<div class="row">
									<div class="col-sm-2 profile-pic" style="text-align:left;width:initial;">
										<img style="max-width:200px;" src="{{vpp.tieneFoto(vpp.cliente.profile.sexo, vpp.cliente.profile.fotografia)}}" >
										<div class="padding-10">
											<h4 class="font-md"><strong>0</strong>
											<br>
											<small>Seguidores</small></h4>
											<br>
											<h4 class="font-md"><strong>0</strong>
											<br>
											<small>Amigos</small></h4>
										</div>
									</div>
									<div class="col-sm-6">
										<h1>{{vpp.cliente.profile.nombre}} <span class="semi-bold">{{vpp.cliente.profile.apellidoPaterno}} {{vpp.cliente.profile.apellidoMaterno}}</span>
										
										<small> (Cliente)</small></h1>
										<ul class="list-unstyled">
											<li>
												<p class="text-muted">
													<i class="fa fa-key fa-lg"></i>&nbsp;&nbsp;
													<span class="txt-color-darken">
														<strong>{{vpp.cliente.username}}</strong>
													</span>
												</p>
											</li>
											<li>
												<p class="text-muted">
													<i class="fa fa-phone fa-lg"></i>&nbsp;&nbsp;<span class="txt-color-darken">{{vpp.cliente.profile.telefono}}</span>
												</p>
											</li>
											<li>
												<p class="text-muted">
													<i class="fa fa-envelope fa-lg"></i>&nbsp;&nbsp;<a href="mailto:{{vpp.cliente.profile.correo}}">{{vpp.cliente.profile.correo}}</a>
												</p>
											</li>
											<li>
												<p class="text-muted">
													<i class="fa fa-birthday-cake fa-lg"></i>&nbsp;&nbsp;<span class="txt-color-darken">{{vpp.cliente.profile.fechaNacimiento | date:"dd-MM-yyyy"}}</span>
												</p>
											</li>
										</ul>
										<br>
										<p class="font-sm">
											<i>Un poco acerca de mi...</i>
										</p>
										<p class="font-xs">
											{{vpp.cliente.profile.observacionesGenerales}}
										</p>
										<br>
									</div>
									<!--																
									<div class="col-sm-3">
										<h1><small>Amigos</small></h1>
										<ul class="list-inline friends-list">
											<li><img src="img/avatars/1.png" alt="friend-1">
											</li>
											<li><img src="img/avatars/2.png" alt="friend-2">
											</li>
											<li><img src="img/avatars/3.png" alt="friend-3">
											</li>
											<li><img src="img/avatars/4.png" alt="friend-4">
											</li>
											<li><img src="img/avatars/5.png" alt="friend-5">
											</li>
											<li><img src="img/avatars/male.png" alt="friend-6">
											</li>
											<li>
												<a href="javascript:void(0);">413 more</a>
											</li>
										</ul>
									</div>
									-->
								</div>
								<div class="row">
									<div class="col-sm-12">
										<ul class="nav nav-tabs">
											<li class="pull-right">
												<a ng-click="vpp.masInformacion()" role="button" data-toggle="collapse"
			href="#masInformacion" aria-expanded="false" aria-controls="masInformacion"><i class="fa fa-{{vpp.masInfo == true ? 'plus':'minus'}} fa-lg"></i></a>
											</li>
										</ul>
										<div class="collapse padding-10" id="masInformacion">
											<div class="tab-pane">
												<div class="col-sm-6">
													<ul class="list-unstyled">															
														<li>
															<address>
															  <strong>Información de la Madre</strong><br>
															  <strong>Nombre:</strong> {{vpp.cliente.profile.madre}}<br>
															  <strong>Teléfono:</strong> {{vpp.cliente.profile.telefonoMadre}}
															  <strong>Correo:</strong> {{vpp.cliente.profile.correoMadre}}
															</address>
														</li>
														<li>
															<address>
															  <strong>Dirección</strong><br>
															  {{vpp.cliente.profile.calleNum}}, {{vpp.cliente.profile.colonia}}<br>
															  {{vpp.cliente.profile.ciudad}}, {{vpp.cliente.profile.estado}} {{vpp.cliente.profile.codigoPostal}}<br>
															</address>
														</li>
														<li>
															<address>
															  <strong>Lugar de Nacimiento</strong><br>
															  {{vpp.cliente.profile.lugarNac}}
															</address>
														</li>
														<li>
															<address>
															  <strong>Escolaridad</strong><br>
															  {{vpp.cliente.profile.escolaridad}}
															</address>
														</li>		
														<li>
															<address>
															  <strong>Nivel Social</strong><br>
															  {{vpp.cliente.profile.nivelSocial}}
															</address>
														</li>
														<li>
															<address>
															  <strong>Correo para Calificaciones</strong><br>
															  {{vpp.cliente.profile.correoCalificaciones}}
															</address>
														</li>											
													</ul>	
												</div>
												<div class="col-sm-6">
													<ul class="list-unstyled">
														<li>
															<address>
															  <strong>Información del Padre</strong><br>
															  <strong>Nombre:</strong> {{vpp.cliente.profile.padreTutor}}<br>
															  <strong>Teléfono:</strong> {{vpp.cliente.profile.telefonoPadre}}
															  <strong>Correo:</strong> {{vpp.cliente.profile.correoPadre}}
															</address>
														</li>
														<li>
															<address>
															  <strong>Teléfono Secundario</strong><br>
																{{vpp.cliente.profile.tel2}}															  
															</address>
														</li>													
														<li>
															<address>
															  <strong>Ocupación del Alumno</strong><br>
															  {{vpp.getOcupacion(vpp.cliente.profile.ocupacion_id)}}
															</address>
														</li>													
														<li>
															<address>
															  <strong>Cómo te enteraste de nosotros</strong><br>
															  {{vpp.cliente.profile.medio}}
															</address>
														</li>
														<li>
															<address>
															  <strong>Talla</strong><br>
																{{vpp.cliente.profile.talla}}															  
															</address>
														</li>														
													</ul>	
												</div>
											</div>											
											<div class="tab-pane" id="pagos">												
												<div class="row">
													<section class="col col-sm-1 text-center padding-20" ng-repeat="semana in vpp.misSemanas" ng-click="vpp.seleccionarSemana(semana)" ng-class="($index == vpp.misSemana.length) ? vpp.obtenerEstatus(semana.pagada) : ''">
														<label class="input text-center">
															<label type="text" class="text-center">{{semana.numero}} / {{semana.anio}} | {{semana.pagada}}</label>
														</label>
													</section>													
												</div>																		
											</div>											
										</div>
									</div>
								</div>
							</div>													
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- Formulario para cambiar algún dato de un pago -->
<div class="row"> 
	<div class="col-sm-12">
		<div class="collapse" id="collapseMasivaSemanas">
			<form name="formMasivoSemanas" class="form-horizontal" role="form" novalidate>
		  	<div class="well">	    
			  	<div class="row">
			  		<div class="col-sm-12">
			  			<div class="alert alert-warning">
			  			 <p><i class="fa-fw fa fa-warning"></i> La <strong>actualización masiva</strong> es una herramienta que actualizará el importe, recargo y descuento en un rango de semanas dadas, por favor asegúrese de hacerlo correctamente.</p>
			  			 <p><strong>No se pueden modificar colegiaturas pagadas</strong></p>
			  			</div>
			  		</div>
			  	</div>
			    <div class="row">
			    	<div class="col-sm-4" valida>
				    	<label>Fecha Inicial *</label>
				    	<input date-time format="dd-MM-yyyy" class="form-control" view="year" max-view="year" min-view="date" ng-model="cpp.cambioSemanasPlanPagos.fechaInicial" name="fechacambioSemanasPlanPagos" required/>
			    	</div>
			    	<div class="col-sm-4" valida>					    
				    	<label>Total de Pagos *</label>
				    	<input name="totalPagosCambioSemanasPlanPagos" type="number" class="form-control" ng-model="cpp.cambioSemanasPlanPagos.totalPagos" required="">
			    	</div>
			    </div>
			    <div class="row">
			    	<div class="col-sm-4" valida>
				    	<label>Importe *</label>
				    	<input name="importeRegularCambioSemanasPlanPagos" type="number" class="form-control" placeholder="Nuevo costo colegiatura" ng-model="cpp.cambioSemanasPlanPagos.importeRegular" required="">
			    	</div>
			    	<div class="col-sm-4" valida>					    
				    	<label>Importe Recargo *</label>
				    	<input name="importeRecargoCambioSemanasPlanPagos" type="number" class="form-control" placeholder="Monto recargo" ng-model="cpp.cambioSemanasPlanPagos.importeRecargo" required="">
			    	</div>
			    	<div class="col-sm-4" valida>					    
				    	<label>Importe Descuento *</label>
				    	<input name="importeDescuentoCambioSemanasPlanPagos" type="number" class="form-control" placeholder="Monto descuento" ng-model="cpp.cambioSemanasPlanPagos.importeDescuento" required="">
			    	</div>
			    	<div class="col-sm-4" valida>					    
				    	<label>Días Recargo *</label>
				    	<input name="diasRecargoCambioSemanasPlanPagos" type="number" class="form-control" ng-model="cpp.cambioSemanasPlanPagos.diasRecargo" required="">
			    	</div>
			    	<div class="col-sm-4" valida>					    
				    	<label>Días Descuento *</label>
				    	<input name="diasDescuentoCambioSemanasPlanPagos" type="number" class="form-control" ng-model="cpp.cambioSemanasPlanPagos.diasDescuento" required="">
			    	</div>
			    </div> 
				</div>
				<div class="row">
					<div class="col-sm-12">
						<button class="btn btn-info" ng-click="cpp.planPagosSemana(cpp.cambioSemanasPlanPagos, formMasivoSemanas)" valida-form formulario="formMasivoSemanas">Calcular Plan de Pagos</button>
					</div>
				</div>	  
		  </form>
		</div>
	</div>
</div>
<!-- Tabla para mostrar los pagos -->
<h2> Yo creo que esto si lo pueden hacer (cambiar el estatus de los pagos o la información)</h2>
<div class="row">
	<div class="col-sm-12">
		<table class="table table-striped table-bordered table-condensed font-xs">
			<caption>
				<h4>Plan Actual</h4>
			</caption>
			<thead class="thead">
				<tr>
					<th class="text-center" width="5%">No.</th>
					<th class="text-center" width="20%">Fecha de Pago</th>
					<th class="text-center" width="15%">Pagos</th>
					<th class="text-center" width="10%">Importe</th>
					<th class="text-center" width="10%">Recargo</th>
					<th class="text-center" width="20%">Descripción</th>
					<th class="text-center" width="20%">Acciones</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-class="(pago.estatus == 1) ? 'success' : (pago.fecha < vpp.fechaActual && pago.estatus == 0) ? 'warning' : (pago.estatus == 2) ? 'danger' : 'info'" ng-repeat="pago in vpp.planPagos">
					<td class="text-center">{{$index + 1}}</td>	
					<td class="text-center">{{pago.fechaLimite | date:"dd-MM-yyyy"}}</td>
					<td class="text-center">{{pago.numeroPago}} - {{vpp.planPagos.length}}</td>
					<td class="text-right">{{pago.importeRegular | currency}}</td>
					<td class="text-right">{{pago.importeRecargo | currency}}</td>
					<td >{{pago.descripcion}}</td>
					<td class="text-center">
						<span ng-if="pago.estatus == 0">
							<button class="btn btn-warning btn-xs" ng-click="vpp.editar(pago)"><i class="fa fa-pencil"></i></button>
							<button class="btn btn-danger  btn-xs" ng-click="vpp.cambiarEstatus(pago, 2, 'eliminar')"><i class="fa fa-trash"></i></button>
						</span>
						<span ng-if="pago.estatus == 2">
							<button class="btn btn-success btn-xs" ng-click="vpp.cambiarEstatus(pago, 0, 'activar')"><i class="fa fa-check"></i></button>
						</span>
					</td>
				</tr>
			</tbody>
		</table>	
	</div>
</div>